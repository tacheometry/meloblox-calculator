(this["webpackJsonpmeloblox-calculator"]=this["webpackJsonpmeloblox-calculator"]||[]).push([[0],{124:function(e,n,t){},130:function(e,n,t){},134:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),i=t(13),o=t.n(i),r=(t(124),t(185)),l=t(186),s=t(187),d=t(138),m=t(139),u=t(140),h=function(e){return"".concat("/meloblox-calculator","/").concat(e)},b=t(7),j=t(182),g=t(46),p={defaultTheme:Object(g.a)({palette:{primary:{main:"#c51162",light:"#fd558f",dark:"#8e0038"},secondary:{main:"#f06292",light:"#ff94c2",dark:"#ba2d65"},background:{default:"#fff"},type:"light"},overrides:{}}),darkTheme:Object(g.a)({palette:{primary:{main:"#3f51b5",light:"#757de8",dark:"#002984"},secondary:{main:"#8c9eff",light:"#c0cfff",dark:"#5870cb"},background:{default:"#232323"},type:"dark"},overrides:{}})};var f=t(5),O=c.a.createContext({currentTheme:"defaultTheme",setTheme:null}),y=function(e){var n=e.children,t=localStorage.getItem("appTheme")||"defaultTheme",c=Object(a.useState)(t),i=Object(b.a)(c,2),o=i[0],r=i[1],l=function(e){return p[e]}(o),s={currentTheme:o,setTheme:function(e){localStorage.setItem("appTheme",e),r(e)}};return Object(f.jsx)(O.Provider,{value:s,children:Object(f.jsx)(j.a,{theme:l,children:n})})},x=t(24),v=Object(x.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",background:e.palette.background}}}));function T(){var e=v(),n=Object(a.useContext)(O),t=n.currentTheme,c=n.setTheme,i=Boolean("darkTheme"===t);return Object(f.jsx)(r.a,{position:"static",id:"appbar",className:{root:e.root},children:Object(f.jsxs)(l.a,{children:[Object(f.jsxs)(s.a,{children:[Object(f.jsx)("img",{src:h("favicon.ico"),style:{width:"100%",height:"100%"},alt:"MeloBlox Calculator"})," "]}),Object(f.jsx)(d.a,{variant:"h5",children:"MeloBlox Calculator"}),Object(f.jsx)(m.a,{control:Object(f.jsx)(u.a,{checked:i,onChange:function(e){var n=e.target.checked;c(n?"darkTheme":"defaultTheme")}}),label:"Theme"})]})})}var C=t(190),k=(t(130),["Common","Uncommon","Rare","Epic","Legendary"]),q=function(e){var n=e.goldFind,t=e.magicFind,a=e.grindTime,c=e.blobKingKillSeconds,i=e.willKillBosses,o=void 0!==i&&i;n=parseInt(n),t=parseInt(t),a=parseInt(a);var r={copper:0,silver:0,gold:0},l={Common:{chance:0,quality:20,tries:0,count:0},Uncommon:{chance:0,quality:49.5,tries:0,count:0},Rare:{chance:0,quality:69.5,tries:0,count:0},Epic:{chance:0,quality:84.5,tries:0,count:0},Legendary:{chance:0,quality:95,tries:0,count:0},sum:0},s={normal:0,elites:0,bosses:0,total:0},d={min:1,max:8,avg:0},m={killTime:5,cooldown:2,findBoost:0},u={killTime:c=parseInt(c),cooldown:300,findBoost:50};s.normal=a/((m.killTime+m.cooldown)/60),o&&(s.bosses=a/((u.killTime+u.cooldown)/60)),s.total=s.normal+s.elites+s.bosses;var h,j,g,p,f,O,y,x=t+u.findBoost*(s.bosses/a);l.Common.chance=1,l.Uncommon.chance=x/5/100,l.Rare.chance=x/10/100*l.Uncommon.chance,l.Epic.chance=x/18/100*l.Rare.chance,l.Legendary.chance=x/38/100*l.Epic.chance,l.sum=l.Common.chance+l.Uncommon.chance+l.Rare.chance+l.Epic.chance+l.Legendary.chance,l.Common.chance/=l.sum,l.Uncommon.chance/=l.sum,l.Rare.chance/=l.sum,l.Epic.chance/=l.sum,l.Legendary.chance/=l.sum,l.Common.tries=1/l.Common.chance,l.Common.count=l.Common.chance*s.total,l.Uncommon.tries=1/l.Uncommon.chance,l.Uncommon.count=l.Uncommon.chance*s.total,l.Rare.tries=1/l.Rare.chance,l.Rare.count=l.Rare.chance*s.total,l.Epic.tries=1/l.Epic.chance,l.Epic.count=l.Epic.chance*s.total,l.Legendary.tries=1/l.Legendary.chance,l.Legendary.count=l.Legendary.chance*s.total,d.avg=(d.min+d.max)/2,h=Math.sin(l.Common.quality/512)*(d.avg*(l.Common.quality/10))+l.Common.quality/12+d.avg,j=Math.sin(l.Uncommon.quality/512)*(d.avg*(l.Uncommon.quality/10))+l.Uncommon.quality/12+d.avg,g=Math.sin(l.Rare.quality/512)*(d.avg*(l.Rare.quality/10))+l.Rare.quality/12+d.avg,p=Math.sin(l.Epic.quality/512)*(d.avg*(l.Epic.quality/10))+l.Epic.quality/12+d.avg,f=Math.sin(l.Legendary.quality/512)*(d.avg*(l.Legendary.quality/10))+l.Legendary.quality/12+d.avg,O=(h*l.Common.chance+j*l.Uncommon.chance+g*l.Rare.chance+p*l.Epic.chance+f*l.Legendary.chance)*s.total,y=Math.floor(n/100*O+O),y/=1e4,r.gold=Math.floor(y),y-=Math.floor(y),y*=100,r.silver=Math.floor(y),y-=Math.floor(y),y*=100,r.copper=Math.floor(y);for(var v=[],T=0,C=Object.entries(l);T<C.length;T++){var q=Object(b.a)(C[T],2),w=q[0],S=q[1],M=k.indexOf(w);M<0||v.push({id:M,rarity:w,chance:Math.round(1e4*S.chance)/100+"%",tries:Math.round(S.tries),dropCount:Math.floor(S.count)})}return{currencyAmount:r,gridOutput:v,monstersSlain:s}},w=t(49),S=t(59),M=t(191),F=t(106),B=t(45),K=t(107);var R=function(e){return Object(f.jsx)(K.a,Object(w.a)({type:"number",min:0},e))},E=t(77),U=function(e){return Object(f.jsx)(E.a,Object(w.a)({style:{padding:16},elevation:3},e))},L=function(e){return Object(f.jsx)(C.a,{item:!0,children:Object(f.jsx)(R,Object(w.a)({},e))})},I=function(e){var n=e.onSubmit,t=Object(a.useState)(!1),c=Object(b.a)(t,2),i=c[0],o=c[1];return Object(f.jsx)(U,{children:Object(f.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=e.target;n(i?{goldFind:t.goldFind.value,magicFind:t.magicFind.value,grindTime:t.grindTime.value,blobKingKillSeconds:t.blobKingKillSeconds.value,willKillBosses:i}:{goldFind:t.goldFind.value,magicFind:t.magicFind.value,grindTime:t.grindTime.value,willKillBosses:i})},children:Object(f.jsxs)(C.a,{container:!0,alignItems:"center",justify:"center",direction:"column",spacing:0,style:{padding:8},children:[Object(f.jsx)(L,{required:!0,name:"goldFind",label:"Gold Find (%)"}),Object(f.jsx)(L,{required:!0,name:"magicFind",label:"Magic Find (%)"}),Object(f.jsx)(L,{required:!0,name:"grindTime",label:"Grinding duration (min)"}),Object(f.jsx)(S.a,{component:"fieldset",children:Object(f.jsx)(M.a,{children:Object(f.jsx)(m.a,{control:Object(f.jsx)(F.a,{name:"willKillBosses",onChange:function(e){return o(e.target.checked)},color:"primary"}),label:"I will kill bosses",labelPlacement:"end"})})}),i&&Object(f.jsx)(L,{name:"blobKingKillSeconds",label:"Blob King kill time (s)",defaultValue:30,required:!0}),Object(f.jsx)(C.a,{item:!0,children:Object(f.jsx)(B.a,{type:"submit",variant:"contained",color:"primary",style:{width:"100%",color:"white",marginTop:16,marginBottom:4},children:"Calculate"})})]})})})},N=t(78);var A=function(e){var n=e.icon,t=e.children,a=e.tooltip;return Object(f.jsx)(N.a,{title:a,placement:"right",children:Object(f.jsxs)(d.a,{style:{display:"inline-block",fontFamily:"Roboto"},children:[Object(f.jsx)("img",{src:h(n),alt:a,style:{width:"1em",height:"1em",display:"inline-block"}})," ",t]})})},D=t(98);var G=function(e){var n=e.data;return Object(f.jsx)(D.a,{autoHeight:!0,disableColumnMenu:!0,disableColumnSelector:!0,disableSelectionOnClick:!0,hideFooter:!0,pageSize:5,columns:[{field:"rarity",headerName:"Rarity",sortable:!1,flex:.25},{field:"chance",headerName:"Chance (%)",description:"The chance of finding an item of each rarity",flex:.25},{field:"tries",headerName:"Tries to drop",description:"Average tries for a drop of each rarity",type:"number",flex:.25},{field:"dropCount",headerName:"Drop count",description:"How many drops of each rarity you'll get after grinding",type:"number",flex:.25}],rows:n})},_=function(e){var n=e.calculatedData;return Object(f.jsxs)(U,{children:[Object(f.jsx)(d.a,{variant:"h6",children:"Output"}),Object(f.jsxs)(d.a,{style:{paddingTop:8,paddingBottom:16},children:[Object(f.jsx)("b",{children:"Normal monsters slain:"})," ",Math.ceil(n.monstersSlain.normal),Object(f.jsx)("br",{}),Object(f.jsx)("b",{children:"Bosses slain:"})," ",Math.ceil(n.monstersSlain.bosses)]}),Object(f.jsx)(G,{data:n.gridOutput}),Object(f.jsxs)(C.a,{container:!0,justify:"space-between",direction:"row",style:{padding:8,paddingTop:16},children:[Object(f.jsx)(d.a,{children:Object(f.jsx)("b",{children:"You will earn:"})}),Object(f.jsxs)(A,{icon:"icons/icon_gold.png",tooltip:"Gold",children:["Gold: ",Object(f.jsx)("b",{children:n.currencyAmount.gold})]}),Object(f.jsxs)(A,{icon:"icons/icon_silver.png",tooltip:"Silver",children:["Silver: ",Object(f.jsx)("b",{children:n.currencyAmount.silver})]}),Object(f.jsxs)(A,{icon:"icons/icon_copper.png",tooltip:"Copper",children:["Copper: ",Object(f.jsx)("b",{children:n.currencyAmount.copper})]})]})]})};var H=function(){var e=Object(a.useState)({goldFind:0,magicFind:0,grindTime:0,blobKingKillSeconds:0,willKillBosses:!1}),n=Object(b.a)(e,2),t=n[0],c=n[1],i=q(t);return Object(f.jsx)("div",{className:"container",style:{margin:"12px auto",position:"absolute",left:0,right:0},children:Object(f.jsxs)(C.a,{container:!0,spacing:3,justify:"center",children:[Object(f.jsx)(C.a,{item:!0,lg:2,children:Object(f.jsx)(I,{onSubmit:function(e){c(e)}})}),Object(f.jsx)(C.a,{item:!0,md:7,sm:!0,style:{maxWidth:"1000px"},children:Object(f.jsx)(_,{calculatedData:i})})]})})},J=t(192);o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsxs)(y,{children:[Object(f.jsx)(J.a,{}),Object(f.jsx)(T,{}),Object(f.jsx)(H,{})]})}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.f0eff1fc.chunk.js.map