(this["webpackJsonpmeloblox-calculator"]=this["webpackJsonpmeloblox-calculator"]||[]).push([[0],{124:function(e,n,c){},130:function(e,n,c){},134:function(e,n,c){"use strict";c.r(n);var a=c(0),t=c.n(a),i=c(13),o=c.n(i),r=(c(124),c(185)),l=c(186),s=c(187),d=c(188),u=c(138),m=c(139),h=c(140),b=function(e){return"".concat("/meloblox-calculator","/").concat(e)},j=c(7),g=c(182),p=c(46),O={defaultTheme:Object(p.a)({palette:{primary:{main:"#ec407a",light:"#ff77a9",dark:"#b4004e"},secondary:{main:"#f06292",light:"#ff94c2",dark:"#ba2d65"},background:{default:"#ececec"},type:"light"},overrides:{}}),darkTheme:Object(p.a)({palette:{primary:{main:"#3f51b5",light:"#757de8",dark:"#002984"},secondary:{main:"#8c9eff",light:"#c0cfff",dark:"#5870cb"},background:{default:"#232323"},type:"dark"},overrides:{}})};var y=c(5),f=t.a.createContext({currentTheme:"defaultTheme",setTheme:null}),x=function(e){var n=e.children,c=localStorage.getItem("appTheme")||"defaultTheme",t=Object(a.useState)(c),i=Object(j.a)(t,2),o=i[0],r=i[1],l=function(e){return O[e]}(o),s={currentTheme:o,setTheme:function(e){localStorage.setItem("appTheme",e),r(e)}};return Object(y.jsx)(f.Provider,{value:s,children:Object(y.jsx)(g.a,{theme:l,children:n})})},v=c(24),T=Object(v.a)((function(e){return{root:{background:e.palette.background},iconSpace:{marginRight:8},iconStyle:{height:"100%"},right:{marginLeft:"auto"}}}));function q(){var e=T(),n=Object(a.useContext)(f),c=n.currentTheme,t=n.setTheme,i=Boolean("darkTheme"===c);return Object(y.jsx)(r.a,{position:"static",id:"appbar",className:{root:e.root},children:Object(y.jsx)(l.a,{children:Object(y.jsxs)(s.a,{container:!0,alignItems:"center",children:[Object(y.jsx)(s.a,{children:Object(y.jsxs)(s.a,{container:!0,direction:"row",children:[Object(y.jsx)(d.a,{className:e.iconSpace,children:Object(y.jsx)("img",{src:b("favicon.ico"),className:e.iconStyle,alt:"MeloBlox Calculator"})}),Object(y.jsx)(u.a,{variant:"h5",children:"MeloBlox Calculator"})]})}),Object(y.jsx)(s.a,{className:e.right,children:Object(y.jsx)(m.a,{control:Object(y.jsx)(h.a,{checked:i,onChange:function(e){var n=e.target.checked;t(n?"darkTheme":"defaultTheme")}}),label:i?"Dark Theme":"Light Theme",color:"secondary"})})]})})})}c(130);var w=["Common","Uncommon","Rare","Epic","Legendary"],k=function(e){var n=e.goldFind,c=e.magicFind,a=e.grindTime,t=e.blobKingKillSeconds,i=e.quantityFind,o=e.willKillBosses,r=void 0!==o&&o;n=parseInt(n),c=parseInt(c),a=parseInt(a),i=parseInt(i);var l={copper:0,silver:0,gold:0},s={Common:{chance:0,quality:20,tries:0,count:0},Uncommon:{chance:0,quality:49.5,tries:0,count:0},Rare:{chance:0,quality:69.5,tries:0,count:0},Epic:{chance:0,quality:84.5,tries:0,count:0},Legendary:{chance:0,quality:95,tries:0,count:0},sum:0},d={flat:r?100:90,sum:0,Zero:{chance:0,quantity:0,tries:0,count:0},One:{chance:0,quantity:1,tries:0,count:0},Two:{chance:0,quantity:2,tries:0,count:0},Three:{chance:0,quantity:3,tries:0,count:0}},u={normal:0,elites:0,bosses:0,total:0},m={min:1,max:8,avg:0},h={killTime:5,cooldown:2,findBoost:0},b={killTime:t=parseInt(t),cooldown:300,findBoost:50};u.normal=a/((h.killTime+h.cooldown)/60),r&&(u.bosses=a/((b.killTime+b.cooldown)/60)),u.total=u.normal+u.elites+u.bosses;var g,p,O,y,f,x,v,T=c+b.findBoost*(u.bosses/a);s.Common.chance=1,s.Uncommon.chance=T/5/100,s.Rare.chance=T/10/100*s.Uncommon.chance,s.Epic.chance=T/18/100*s.Rare.chance,s.Legendary.chance=T/38/100*s.Epic.chance,s.sum=s.Common.chance+s.Uncommon.chance+s.Rare.chance+s.Epic.chance+s.Legendary.chance,s.Common.chance/=s.sum,s.Uncommon.chance/=s.sum,s.Rare.chance/=s.sum,s.Epic.chance/=s.sum,s.Legendary.chance/=s.sum,s.Common.tries=1/s.Common.chance,s.Common.count=s.Common.chance*u.total,s.Uncommon.tries=1/s.Uncommon.chance,s.Uncommon.count=s.Uncommon.chance*u.total,s.Rare.tries=1/s.Rare.chance,s.Rare.count=s.Rare.chance*u.total,s.Epic.tries=1/s.Epic.chance,s.Epic.count=s.Epic.chance*u.total,s.Legendary.tries=1/s.Legendary.chance,s.Legendary.count=s.Legendary.chance*u.total,d.Zero.chance=1,d.One.chance=i/100,d.Two.chance=i/6/100*d.One.chance,d.Three.chance=i/6/100*d.One.chance,d.sum=d.Zero.chance+d.One.chance+d.Two.chance+d.Three.chance,d.Zero.chance/=d.sum,d.One.chance/=d.sum,d.Two.chance/=d.sum,d.Three.chance/=d.sum,d.Zero.tries=1/d.Zero.chance,d.Zero.count=d.Zero.chance*u.total,d.One.tries=1/d.One.chance,d.One.count=d.One.chance*u.total,d.Two.tries=1/d.Two.chance,d.Two.count=d.Two.chance*u.total,d.Three.tries=1/d.Three.chance,d.Three.count=d.Three.chance*u.total,m.avg=(m.min+m.max)/2,g=Math.sin(s.Common.quality/512)*(m.avg*(s.Common.quality/10))+s.Common.quality/12+m.avg,p=Math.sin(s.Uncommon.quality/512)*(m.avg*(s.Uncommon.quality/10))+s.Uncommon.quality/12+m.avg,O=Math.sin(s.Rare.quality/512)*(m.avg*(s.Rare.quality/10))+s.Rare.quality/12+m.avg,y=Math.sin(s.Epic.quality/512)*(m.avg*(s.Epic.quality/10))+s.Epic.quality/12+m.avg,f=Math.sin(s.Legendary.quality/512)*(m.avg*(s.Legendary.quality/10))+s.Legendary.quality/12+m.avg,x=(g*s.Common.chance+p*s.Uncommon.chance+O*s.Rare.chance+y*s.Epic.chance+f*s.Legendary.chance)*u.total,v=Math.floor(n/100*x+x),v/=1e4,l.gold=Math.floor(v),v-=Math.floor(v),v*=100,l.silver=Math.floor(v),v-=Math.floor(v),v*=100,l.copper=Math.floor(v);for(var q=[],k=0,C=Object.entries(s);k<C.length;k++){var S=Object(j.a)(C[k],2),F=S[0],M=S[1],N=w.indexOf(F);N<0||q.push({id:N,rarity:F,chance:Math.round(1e4*M.chance)/100+"%",tries:Math.round(M.tries),dropCount:Math.floor(M.count)})}return{currencyAmount:l,gridOutput:q,monstersSlain:u}},C=c(49),S=c(59),F=c(191),M=c(106),N=c(45),B=c(107);var R=function(e){return Object(y.jsx)(B.a,Object(C.a)({type:"number",min:0},e))},K=c(77),E=function(e){return Object(y.jsx)(K.a,Object(C.a)({elevation:3},e))},L=Object(v.a)((function(e){return{p8:{padding:8},submitButton:{width:"100%",color:"white",marginTop:16,marginBottom:4},p16:{padding:16}}})),U=function(e){return Object(y.jsx)(s.a,{item:!0,children:Object(y.jsx)(R,Object(C.a)({},e))})},I=function(e){var n=e.onSubmit,c=Object(a.useState)(!1),t=Object(j.a)(c,2),i=t[0],o=t[1],r=L();return Object(y.jsx)(E,{className:r.p8,children:Object(y.jsx)("form",{onSubmit:function(e){e.preventDefault();var c=e.target;n(i?{goldFind:c.goldFind.value,quantityFind:c.quantityFind.value,magicFind:c.magicFind.value,grindTime:c.grindTime.value,blobKingKillSeconds:c.blobKingKillSeconds.value,willKillBosses:i}:{goldFind:c.goldFind.value,quantityFind:c.quantityFind.value,magicFind:c.magicFind.value,grindTime:c.grindTime.value,willKillBosses:i})},children:Object(y.jsxs)(s.a,{container:!0,alignItems:"center",justify:"center",direction:"column",spacing:0,className:r.p8,children:[Object(y.jsx)(u.a,{variant:"h6",children:"Insert your stats below"}),Object(y.jsx)(U,{required:!0,name:"goldFind",label:"Gold Find (%)",color:"secondary"}),Object(y.jsx)(U,{required:!0,name:"quantityFind",label:"Not yet working!",error:!0,disabled:!0}),Object(y.jsx)(U,{required:!0,name:"magicFind",label:"Magic Find (%)",color:"secondary"}),Object(y.jsx)(U,{required:!0,name:"grindTime",label:"Grinding duration (min)",color:"secondary"}),Object(y.jsx)(S.a,{component:"fieldset",children:Object(y.jsx)(F.a,{children:Object(y.jsx)(m.a,{control:Object(y.jsx)(M.a,{name:"willKillBosses",onChange:function(e){return o(e.target.checked)},color:"secondary"}),label:"I will kill bosses",labelPlacement:"end"})})}),i&&Object(y.jsx)(U,{name:"blobKingKillSeconds",label:"Blob King kill time (s)",defaultValue:30,required:!0}),Object(y.jsx)(s.a,{item:!0,children:Object(y.jsx)(N.a,{type:"submit",variant:"contained",color:"secondary",className:r.submitButton,children:"Calculate"})})]})})})},Z=c(78);var A=function(e){var n=e.icon,c=e.children,a=e.tooltip;return Object(y.jsx)(Z.a,{title:a,placement:"right",children:Object(y.jsxs)(u.a,{style:{display:"inline-block",fontFamily:"Roboto"},children:[Object(y.jsx)("img",{src:b(n),alt:a,style:{width:"1em",height:"1em",display:"inline-block"}})," ",c]})})},D=c(98);var G=function(e){var n=e.data;return Object(y.jsx)(D.a,{autoHeight:!0,disableColumnMenu:!0,disableColumnSelector:!0,disableSelectionOnClick:!0,hideFooter:!0,pageSize:5,columns:[{field:"rarity",headerName:"Rarity",sortable:!1,flex:.25},{field:"chance",headerName:"Chance (%)",description:"The chance of finding an item of each rarity",flex:.25},{field:"tries",headerName:"Tries to drop",description:"Average tries for a drop of each rarity",type:"number",flex:.25},{field:"dropCount",headerName:"Drop count",description:"How many drops of each rarity you'll get after grinding",type:"number",flex:.25}],rows:n})},_=Object(v.a)((function(e){return{output:{padding:8,paddingTop:16},p16:{padding:16}}})),H=function(e){var n=e.calculatedData,c=_();return Object(y.jsxs)(E,{className:c.p16,children:[Object(y.jsx)(u.a,{variant:"h6",children:"Output"}),Object(y.jsxs)(u.a,{className:c.output,children:[Object(y.jsx)("b",{children:"Normal monsters slain:"})," ",Math.ceil(n.monstersSlain.normal),Object(y.jsx)("br",{}),Object(y.jsx)("b",{children:"Bosses slain:"})," ",Math.ceil(n.monstersSlain.bosses)]}),Object(y.jsx)(G,{data:n.gridOutput}),Object(y.jsxs)(s.a,{container:!0,justify:"space-between",direction:"row",className:c.output,children:[Object(y.jsx)(u.a,{children:Object(y.jsx)("b",{children:"You will earn:"})}),Object(y.jsxs)(A,{icon:"icons/icon_gold.png",tooltip:"Gold",children:["Gold: ",Object(y.jsx)("b",{children:n.currencyAmount.gold})]}),Object(y.jsxs)(A,{icon:"icons/icon_silver.png",tooltip:"Silver",children:["Silver: ",Object(y.jsx)("b",{children:n.currencyAmount.silver})]}),Object(y.jsxs)(A,{icon:"icons/icon_copper.png",tooltip:"Copper",children:["Copper: ",Object(y.jsx)("b",{children:n.currencyAmount.copper})]})]})]})},J=Object(v.a)((function(e){return{spacing:{margin:16}}}));var P=function(){var e=Object(a.useState)({goldFind:0,magicFind:0,grindTime:0,blobKingKillSeconds:0,willKillBosses:!1}),n=Object(j.a)(e,2),c=n[0],t=n[1],i=k(c),o=J();return Object(y.jsxs)(s.a,{container:!0,justify:"center",children:[Object(y.jsx)(s.a,{item:!0,lg:2,className:o.spacing,children:Object(y.jsx)(I,{onSubmit:function(e){t(e)}})}),Object(y.jsx)(s.a,{item:!0,lg:5,md:7,sm:!0,className:o.spacing,children:Object(y.jsx)(H,{calculatedData:i})})]})},z=c(192);o.a.render(Object(y.jsx)(t.a.StrictMode,{children:Object(y.jsxs)(x,{children:[Object(y.jsx)(z.a,{}),Object(y.jsx)(q,{}),Object(y.jsx)(P,{})]})}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.2e01251f.chunk.js.map